[
    #(load "forge" "io" "alu")

    (io/put "=== Forge Drop Period Test ===\n")

    (io/put "\n--- Drop every 2nd element starting at 0 ---\n")
    (def x0 '(0 1 2 3 4 5 6 7 8 9))
    (def x1 (forge/drop_period x0 0 2))
    (assert (alu/eq (forge/count x1) 5) "Drop period 2 from offset 0 should leave 5 elements")
    (io/put "Drop period 2 from offset 0\n")

    (io/put "\n--- Drop every 3rd element starting at 1 ---\n")
    (def y0 '(0 1 2 3 4 5 6 7 8 9))
    (def y1 (forge/drop_period y0 1 3))
    (assert (alu/eq (forge/count y1) 7) "Drop period 3 from offset 1 should leave 7 elements")
    (io/put "Drop period 3 from offset 1\n")

    (io/put "\n--- Drop with period 1 (all from offset) ---\n")
    (def z0 '(1 2 3 4 5))
    (def z1 (forge/drop_period z0 2 1))
    (assert (alu/eq (forge/count z1) 2) "Drop period 1 from offset 2 should leave 2 elements")
    (io/put "Drop period 1 from offset 2 - removes all from offset onwards\n")

    (io/put "\n--- Drop with offset beyond list ---\n")
    (def w0 '(1 2 3))
    (def w1 (forge/drop_period w0 10 2))
    (assert (alu/eq (forge/count w1) 3) "Drop with offset beyond should not change size")
    (io/put "Drop with offset beyond list - no change\n")

    (io/put "\n=== All drop_period tests complete ===\n")
]
