[
    #(load "forge" "io")

    (io/put "=== Forge Reverse Test ===\n")

    (io/put "\n--- Basic Reverse ---\n")
    (def x0 '(1 2 3 4 5))
    (def x1 (forge/rev x0))
    (assert (eq (forge/count x1) 5) "Reversed list should have 5 elements")
    (def x1_list (cast :list-p x1))
    (assert (eq (at 0 x1_list) 5) "First should be 5")
    (assert (eq (at 2 x1_list) 3) "Middle should be 3")
    (assert (eq (at 4 x1_list) 1) "Last should be 1")
    (io/put "Reversed (1 2 3 4 5)\n")

    (io/put "\n--- Reverse single element ---\n")
    (def y0 '(42))
    (def y1 (forge/rev y0))
    (assert (eq (forge/count y1) 1) "Reversed single element list should have 1 element")
    (assert (eq y1 '(42)) "Result should be (42)")
    (io/put "Reversed single element list\n")

    (io/put "\n--- Reverse empty ---\n")
    (def z0 '())
    (def z1 (forge/rev z0))
    (assert (eq (forge/count z1) 0) "Reversed empty list should be empty")
    (io/put "Reversed empty list\n")

    (io/put "\n--- Reverse symbols ---\n")
    (def w0 '(a b c d))
    (def w1 (forge/rev w0))
    (assert (eq (forge/count w1) 4) "Reversed symbol list should have 4 elements")
    (assert (eq w1 '(d c b a)) "Result should be (d c b a)")
    (io/put "Reversed (a b c d)\n")

    (io/put "\n=== All reverse tests complete ===\n")
]
