[
    #(load "kv" "io")

    (io/put "=== INTEGER Type Round-Trip Test ===\n")
    (kv/open-memory store)

    (io/put "\n--- Simple Integers ---\n")
    (kv/set store:int1 42)
    (kv/set store:int2 -100)
    (kv/set store:int3 0)
    
    (def retrieved1 (kv/get store:int1))
    (def retrieved2 (kv/get store:int2))
    (def retrieved3 (kv/get store:int3))
    
    (assert (eq retrieved1 42) "Retrieved value should be 42")
    (assert (eq retrieved2 -100) "Retrieved value should be -100")
    (assert (eq retrieved3 0) "Retrieved value should be 0")
    
    (io/put "42: %d\n" retrieved1)
    (io/put "-100: %d\n" retrieved2)
    (io/put "0: %d\n" retrieved3)

    (io/put "\n--- Edge Case Integers ---\n")
    (kv/set store:max 9223372036854775807)
    (kv/set store:min -9223372036854775808)
    (kv/set store:large 1000000000)
    
    (def retrieved_max (kv/get store:max))
    (def retrieved_min (kv/get store:min))
    (def retrieved_large (kv/get store:large))
    
    (assert (eq retrieved_max 9223372036854775807) "Max int should match")
    (assert (eq retrieved_min -9223372036854775808) "Min int should match")
    (assert (eq retrieved_large 1000000000) "Large int should match")
    
    (io/put "MAX_INT64: %d\n" retrieved_max)
    (io/put "MIN_INT64: %d\n" retrieved_min)
    (io/put "Large: %d\n" retrieved_large)

    (io/put "\n--- Integer in List ---\n")
    (kv/set store:list '(1 2 3 4 5))
    (def retrieved_list (kv/get store:list))
    (io/put "List stored and retrieved\n")

    (io/put "\n=== All integer tests complete ===\n")
]

