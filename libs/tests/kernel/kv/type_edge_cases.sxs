[
    #(load "kv" "io")

    (io/put "=== EDGE CASES Round-Trip Test ===\n")
    (kv/open-memory store)

    (io/put "\n--- Empty Values ---\n")
    (kv/set store:empty_str "")
    (kv/set store:empty_list '())
    (kv/set store:empty_bracket [])
    (kv/set store:empty_brace '{})
    
    (def retrieved_empty_str (kv/get store:empty_str))
    (def retrieved_empty_list (kv/get store:empty_list))
    (def retrieved_empty_bracket (kv/get store:empty_bracket))
    (def retrieved_empty_brace (kv/get store:empty_brace))
    
    (io/put "Empty string stored and retrieved\n")
    (io/put "Empty paren list stored and retrieved\n")
    (io/put "Empty bracket list stored and retrieved\n")
    (io/put "Empty brace list stored and retrieved\n")

    (io/put "\n--- Zero and Boundary Values ---\n")
    (kv/set store:zero_int 0)
    (kv/set store:zero_real 0.0)
    (kv/set store:neg_zero -0.0)
    (kv/set store:one 1)
    (kv/set store:neg_one -1)
    
    (def retrieved_zero_int (kv/get store:zero_int))
    (def retrieved_zero_real (kv/get store:zero_real))
    (def retrieved_neg_zero (kv/get store:neg_zero))
    (def retrieved_one (kv/get store:one))
    (def retrieved_neg_one (kv/get store:neg_one))
    
    (io/put "Zero integer: %d\n" retrieved_zero_int)
    (io/put "Zero real: %f\n" retrieved_zero_real)
    (io/put "Negative zero: %f\n" retrieved_neg_zero)
    (io/put "One: %d\n" retrieved_one)
    (io/put "Negative one: %d\n" retrieved_neg_one)

    (io/put "\n--- Special String Characters ---\n")
    (kv/set store:newline "line1\nline2")
    (kv/set store:tab "col1\tcol2")
    (kv/set store:quote "quote:\"test\"")
    (kv/set store:backslash "path\\to\\file")
    
    (def retrieved_newline (kv/get store:newline))
    (def retrieved_tab (kv/get store:tab))
    (def retrieved_quote (kv/get store:quote))
    (def retrieved_backslash (kv/get store:backslash))
    
    (io/put "String with newline stored and retrieved\n")
    (io/put "String with tab stored and retrieved\n")
    (io/put "String with quote stored and retrieved\n")
    (io/put "String with backslash stored and retrieved\n")

    (io/put "\n--- Very Long List ---\n")
    (kv/set store:long_list '(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30))
    (def retrieved_long_list (kv/get store:long_list))
    (io/put "Long list with 30 elements stored and retrieved\n")

    (io/put "\n--- Deeply Nested Structure ---\n")
    (kv/set store:deep10 '(1 (2 (3 (4 (5 (6 (7 (8 (9 (10)))))))))))
    (def retrieved_deep10 (kv/get store:deep10))
    (io/put "10-level deep nested structure stored and retrieved\n")

    (io/put "\n--- Single Character Symbol ---\n")
    (kv/set store:single_sym 'x)
    (def retrieved_single_sym (kv/get store:single_sym))
    (io/put "Single character symbol stored and retrieved\n")

    (io/put "\n--- Multiple Operators Stacked ---\n")
    (kv/set store:stacked '@#?42)
    (def retrieved_stacked (kv/get store:stacked))
    (io/put "Stacked operators stored and retrieved\n")

    (io/put "\n--- List with Only One Element ---\n")
    (kv/set store:single_elem '(only))
    (def retrieved_single_elem (kv/get store:single_elem))
    (io/put "Single element list stored and retrieved\n")

    (io/put "\n--- Alternating Types in List ---\n")
    (kv/set store:alternating '(1 "two" 3 "four" 5 "six" 7 "eight"))
    (def retrieved_alternating (kv/get store:alternating))
    (io/put "Alternating types list stored and retrieved\n")

    (io/put "\n=== All edge case tests complete ===\n")
]

