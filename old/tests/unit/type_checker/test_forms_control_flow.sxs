[
  #(define-form pair {:int :int})
  #(define-form result {:str :int})
  
  (def choose_pair (fn (flag :int) :pair [
    (if flag
      (cast :pair {1 2})
      (cast :pair {3 4})
    )
  ]))
  
  (def p1 (choose_pair 1))
  (def p2 (choose_pair 0))
  
  (def safe_pair (try
    (cast :pair {10 20})
    (cast :pair {0 0})
  ))
  
  (def loop_result (do [
    (def counter 0)
    (def p (cast :pair {counter counter}))
    (done p)
  ]))
  
  (debug p1)
  (debug p2)
  (debug safe_pair)
  (debug loop_result)
]

