[
    #(load "io")
    #(load "kv")

    (io/put "=== Comprehensive KV Store Test ===\n\n")
    
    (kv/open-memory store)
    
    (io/put "--- Storing different types ---\n")
    (kv/set store:int 42)
    (kv/set store:real 3.14159)
    (kv/set store:str "hello world")
    (kv/set store:list '(1 2 3 4 5))
    (kv/set store:nested '((a b) (c d) (e f)))
    
    (def complex_data '{x: 10 y: 20 z: "test"})
    (kv/set store:brace complex_data)
    
    (io/put "\n--- Retrieving values ---\n")
    (io/put "Integer: ")
    (debug (kv/get store:int))
    
    (io/put "Real: ")
    (debug (kv/get store:real))
    
    (io/put "String: ")
    (debug (kv/get store:str))
    
    (io/put "List: ")
    (debug (kv/get store:list))
    
    (io/put "Nested: ")
    (debug (kv/get store:nested))
    
    (io/put "Brace: ")
    (debug (kv/get store:brace))
    
    (io/put "\n--- Error case ---\n")
    (io/put "Non-existent key: ")
    (debug (kv/get store:noexist))
    
    (io/put "\n=== All tests passed ===\n")
]

