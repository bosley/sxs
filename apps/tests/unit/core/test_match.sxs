[
  (def x 42)
  (def result1 (match x
    (42 "matched int 42")
    (3.14 "matched real")
  ))
  (debug "Match integer literal:" result1)

  (def y 3.14)
  (def result2 (match y
    (100 "matched int")
    (3.14 "matched real 3.14")
  ))
  (debug "Match real literal:" result2)

  (def s "hello")
  (def result3 (match s
    ("hello" "matched hello")
    ("world" "matched world")
  ))
  (debug "Match string literal:" result3)

  (def sym test-symbol)
  (def result4 (match sym
    (test-symbol "matched symbol")
    (0 "matched int")
  ))
  (debug "Match symbol:" result4)

  (def val 100)
  (def result5 (match val
    (val "matched via symbol")
    (200 "matched 200")
  ))
  (debug "Match via resolved symbol:" result5)

  (def no_match 999)
  (def result6 (match no_match
    (1 "one")
    (2 "two")
  ))
  (debug "No match returns error:" result6)

  (def result7 (match 50
    (10 "ten")
    (50 "fifty")
    (100 "hundred")
  ))
  (debug "Later handler matches:" result7)

  (def mixed 7)
  (def result8 (match mixed
    ("test" "string")
    (7.0 "real")
    (7 "integer seven")
  ))
  (debug "Type and value match:" result8)
]

