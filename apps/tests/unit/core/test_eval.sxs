[
  (def expr "(if 1 100 200)")
  (def result1 (eval expr))
  (debug "test 1 - eval simple if expression:" result1)

  (def code "[(def x 42) x]")
  (def result2 (eval code))
  (debug "test 2 - eval with def, result:" result2)

  (def outer-var 99)
  (def result3 (eval "[(def inner-var 77) outer-var]"))
  (debug "test 3 - eval can access outer symbols:" result3)

  (def add (fn (a :int b :int) :int [
    (if 1 30 0)
  ]))
  (def result4 (eval "[(def y 10) (def z 20) (add y z)]"))
  (debug "test 4 - eval with multiple defs and function call:" result4)

  (def make-code (fn (val :int) :str [
    "(if 1 6 0)"
  ]))
  (def result5 (eval (make-code 99)))
  (debug "test 5 - eval with dynamically generated code:" result5)

  (def result6 (eval "(if 0 50 42)"))
  (debug "test 6 - eval conditional expression:" result6)
]

